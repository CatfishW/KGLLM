train_data: 
  - ../Data/webqsp_final/shortest_paths/train.parquet
  - ../Data/CWQ/shortest_paths/train.parquet
  - ../Data/LLM_Rephrased_CWQ_WebQSP/webqsp_rephrased_train.parquet
  - ../Data/LLM_Rephrased_CWQ_WebQSP/cwq_rephrased_train_part1.parquet
  - ../Data/LLM_Rephrased_CWQ_WebQSP/cwq_rephrased_train_part2.parquet
val_data: 
  - ../Data/webqsp_final/shortest_paths/val.parquet
  - ../Data/CWQ/shortest_paths/val.parquet
test_data: 
  - ../Data/webqsp_final/shortest_paths/test.parquet
  - ../Data/CWQ/shortest_paths/test.parquet
vocab_path: /data/Yanlai/KGLLM/Data/vocab_combined.json

# Model architecture
hidden_dim: 256
dropout: 0.1
num_diffusion_layers: 2
num_heads: 8
num_diffusion_steps: 10

# Optimization: Relation-only generation with frozen entity embeddings
use_entity_embeddings: false
predict_entities: false

# NEW: Causal masking and hop-count prediction
use_causal_attention: true    # Enable causal attention for autoregressive-style generation
predict_hop_count: true       # Enable hop-count prediction (1/2/3/4+ hops)
hop_count_loss_weight: 0.5    # Weight for hop prediction loss (added to total loss)

# Text handling
question_encoder: sentence-transformers/all-MiniLM-L6-v2
tokenizer_name: sentence-transformers/all-MiniLM-L6-v2
freeze_question_encoder: true
max_question_length: 200
max_path_length: 10

max_vocab_size: 2000000000
max_entities: 20000000000
max_relations: 50000

# Data augmentation
augment_questions: true
question_word_dropout: 0.01
question_word_swap_prob: 0.01
question_random_delete_prob: 0.01

augment_paths: true
path_random_single_path: true
path_max_paths: 15
path_dropout_prob: 0.1

# Training setup
batch_size: 16
num_workers: 8  # Set to 0 for Windows compatibility
learning_rate: 0.0001
weight_decay: 0.01
warmup_steps: 1000
max_steps: 50000000
max_epochs: 1000
gradient_clip: 1.0
accumulate_grad_batches: 1
early_stopping_patience: -1
check_val_every_n_epoch: 10
val_check_interval: 1.0

# Hardware / logging
gpus: 2
precision: 16-mixed
strategy: auto
output_dir: diffusion_causal_hopcount_20251215
experiment_name: diffusion_causal_hopcount_20251215
log_path_examples: true
wandb: false
wandb_project: kg-path-diffusion
seed: 42
resume: null
debug: false
