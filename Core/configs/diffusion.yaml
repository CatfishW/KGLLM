train_data: ../Data/webqsp_final/train.parquet
val_data: ../Data/webqsp_final/val.parquet
vocab_path: ../Data/webqsp_final/vocab.json

# Model architecture
hidden_dim: 256
dropout: 0.1
num_diffusion_layers: 2
num_heads: 8
num_diffusion_steps: 10

# Optimization: Relation-only generation with frozen entity embeddings
use_entity_embeddings: false
predict_entities: false

# Text handling
question_encoder: sentence-transformers/all-MiniLM-L6-v2
tokenizer_name: sentence-transformers/all-MiniLM-L6-v2
freeze_question_encoder: true
max_question_length: 200
max_path_length: 10  # Increased to allow longer predicted paths than ground truth

max_vocab_size: 2000000000
max_entities: 20000000000
max_relations: 50000

# Data augmentation
augment_questions: true            # Enable simple text augmentations on questions
question_word_dropout: 0.01      # Probability of dropping each word in the question
question_word_swap_prob: 0.01     # Probability of randomly swapping two words
question_random_delete_prob: 0.01 # Probability of deleting one random word

augment_paths: true               # Enable path-level augmentation
path_random_single_path: true     # Randomly choose a single target path per sample (legacy single-path output)
path_max_paths: 2                # Maximum number of diverse paths kept per sample
path_dropout_prob: 0.1            # Probability of dropping each candidate path during selection

# Training setup
batch_size: 8
num_workers: 0  # Set to 0 for Windows compatibility (multiprocessing issues)
learning_rate: 0.0001
weight_decay: 0.01  
warmup_steps: 1000
max_steps: 50000000  # Reduced for quick testing
max_epochs: 500  # Reduced for quick testing
gradient_clip: 1.0
accumulate_grad_batches: 1
early_stopping_patience: 0  # 0 or negative disables early stopping; set >0 to enable

# Hardware / logging
gpus: 1
precision: 16-mixed #16-mixed or 32-float
strategy: auto
output_dir: outputs_multipath_relation_only_8_freeze_question_encoder
experiment_name: kg_path_relation_only_8_freeze_question_encoder
log_path_examples: true          # Enable/disable logging of example paths via PathExamplesLogger
wandb: false
wandb_project: kg-path-diffusion
seed: 42
resume: null #outputs_multipath_diffusion_relation_only/checkpoints/last.ckpt
debug: false